



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Text Mining Documentation">
      
      
        <link rel="canonical" href="https://ibara99.github.io/Simple Web Crawler/">
      
      
        <meta name="author" content="ibara">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.2.0">
    
    
      
        <title>Simple Web Crawler - Ibara99's Doc</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.750b69bd.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "None", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="velvet">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#simple-web-crawler" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://ibara99.github.io/" title="Ibara99's Doc" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Ibara99's Doc
            </span>
            <span class="md-header-nav__topic">
              Simple Web Crawler
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/ibara99/Simple-Web-Crawling" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    /ibara99/Simple-Web-Crawling
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

<nav class="md-tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href=".." title="Home" class="md-tabs__link md-tabs__link--active">
        Home
      </a>
    
  </li>

      
        
      
        
      
        
      
        
      
        
      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://ibara99.github.io/" title="Ibara99's Doc" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Ibara99's Doc
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/ibara99/Simple-Web-Crawling" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    /ibara99/Simple-Web-Crawling
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../crawling/" title="Crawling" class="md-nav__link">
      Crawling
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../textExtraction/" title="Text Extraction" class="md-nav__link">
      Text Extraction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../preprocessing/" title="Preprocessing" class="md-nav__link">
      Preprocessing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Clustering/" title="Clustering" class="md-nav__link">
      Clustering
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../Evaluasi/" title="Evaluasi" class="md-nav__link">
      Evaluasi
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="simple-web-crawler">Simple Web Crawler<a class="headerlink" href="#simple-web-crawler" title="Permanent link">&para;</a></h1>
<p>​   <em>Program ini digunakan untuk mengekstrak data dari sebuah website. Untuk</em> source code <em>lengkap, sila klik <a href="https://github.com/Ibara99/Simple-Web-Crawling">di sini</a>.</em></p>
<h1 id="pengantar">Pengantar<a class="headerlink" href="#pengantar" title="Permanent link">&para;</a></h1>
<blockquote>
<p>Ucapan terima kasih kepada Bapak <a href="https://forlap.ristekdikti.go.id/dosen/detail/RTA5QTg4RjctMjBEQy00QThELUI4REYtREQ5ODAzMzU0MjUz">Mulaab, S.Si., M.Kom.</a> selaku Dosen Pembimbing kami</p>
<p>Nama          : Ibnu Asro Putra</p>
<p>NRP           : 160411100023</p>
<p>Mata kuliah       : Penambangan dan Pencarian Web - 2019</p>
<p>Jurusan           : Teknik Informatika</p>
<p>Perguruan Tinggi  : Universitas Trunojoyo Madura</p>
</blockquote>
<h1 id="environment">Environment<a class="headerlink" href="#environment" title="Permanent link">&para;</a></h1>
<p><em>Program ini dijalankan menggunakan:</em></p>
<ul>
<li>Bahasa Python, dengan library:</li>
<li>BeautifulSoup4 (install menggunakan pip)</li>
<li>requests (install menggunakan pip)</li>
<li>SQLite3 (library bawaan python)</li>
<li>csv  (library bawaan python)</li>
<li>numpy (install menggunakan pip)</li>
<li>scipy (install menggunakan pip)</li>
<li>scikit-learn (install menggunakan pip, perlu untuk install numpy dan scipy terlebih dulu)</li>
<li>Scikit-fuzzy (install menggunakan pip, perlu untuk install numpy dan scipy terlebih dulu)</li>
<li>Website target : <a href="https://garuda.ristekdikti.go.id">Jurnal Online</a>)</li>
</ul>
<blockquote>
<p>Jika anda memutuskan untuk meng-update data, maka Program <strong>hanya</strong> bisa dijalankan menggunakan Internet, atau program akan error</p>
<p>Setiap kali program dijalankan, akan muncul file baru bernama <code>test.db</code>, dan beberapa file <code>csv</code>. File tersebut merupakan file database serta output program.</p>
</blockquote>
<h1 id="teori-dan-penjelasan-program">Teori dan Penjelasan Program<a class="headerlink" href="#teori-dan-penjelasan-program" title="Permanent link">&para;</a></h1>
<h2 id="crawling">Crawling<a class="headerlink" href="#crawling" title="Permanent link">&para;</a></h2>
<p>Crawling merupakan sebuah kegiatan untuk mendapatkan sekelompok data dari web. Data-data tersebut bisa sangat bervariasi, seperti text, citra, audio, video dan lain sebagainya. Dalam program ini, kita akan melakukan crawling pada text, atau lebih dikenal dengan <em>text Mining</em>.</p>
<p>Berikut code untuk melakukan Crawling:</p>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">crawl</span><span class="p">(</span><span class="n">src</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">c</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>

    <span class="c1"># Mengubah html ke object beautiful soup</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>

    <span class="c1"># Find all item</span>
    <span class="n">items</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">findAll</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s1">&#39;article-item&#39;</span><span class="p">)</span>

    <span class="c1">#print (&#39;Proses : %.2f&#39; %((c/maxPage)*100) + &#39;%&#39;); c+=1</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="n">judul</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s1">&#39;title-article&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">getText</span><span class="p">()</span>
        <span class="n">authors</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;author-article&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">findAll</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s1">&#39;title-author&#39;</span><span class="p">)</span>
        <span class="n">author</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">authors</span><span class="p">:</span> <span class="n">author</span> <span class="o">=</span> <span class="n">author</span><span class="o">+</span><span class="n">i</span><span class="o">.</span><span class="n">getText</span><span class="p">()</span><span class="o">+</span><span class="s1">&#39;; &#39;</span>
        <span class="n">abstrack</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s1">&#39;article-abstract&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">getText</span><span class="p">()</span>

        <span class="c1">#pengecekan data redundant</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;select * from jurnal2 where judul=?&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">judul</span><span class="p">,))</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cursor</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;INSERT INTO jurnal2 </span><span class="se">\</span>
<span class="s2">                        VALUES (?, ?, ?, ?)&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">judul</span><span class="p">,</span> <span class="n">author</span><span class="p">,</span> <span class="n">abstrack</span><span class="p">,</span> <span class="n">kategori</span><span class="p">));</span>
</pre></div>

<p><strong>Perlu diingat bahwa, setiap web memiliki struktur html yang berbeda</strong>, maka jika kalian mengubah url web, maka perlu dilakukan penyesuaian pada code.</p>
<p>Selanjutnya, mari kita bahas lebih detail lagi. Untuk mendapatkan tag html .yang diinginkan BeautifulSoup menyediakan 2 fungsi, yaitu :</p>
<ul>
<li>soup.find(parameter)</li>
</ul>
<p>digunakan untuk mendapatkan <em>satu</em> tag html yang muncul pertama kali. Hasilnya berupa objek <code>soup</code></p>
<ul>
<li>soup.findAll(parameter)</li>
</ul>
<p>digunakan untuk mendapatkan <em>semua</em> tag html tersebut. Hasilnya berupa <code>list</code></p>
<p>Sementara itu, untuk parameternya memiliki 3 macam. Kalian bisa mencari berdasarkan:</p>
<ul>
<li>tag html (seperti <code>&lt;p&gt;</code>, <code>&lt;div&gt;</code>, <code>h1</code> dsb). </li>
</ul>
<p>contoh: </p>
<p>code html <code>&lt;div&gt;&lt;p&gt;aku makan sayur&lt;/p&gt;&lt;/div&gt;</code></p>
<p>maka, untuk mendapatkan tag p adalah : <code>soup.find("p")</code></p>
<ul>
<li>class</li>
</ul>
<p>code html <code>&lt;div&gt;&lt;p class='makan'&gt;aku makan sayur&lt;/p&gt;&lt;/div&gt;</code></p>
<p>maka, untuk mendapatkan tag p adalah : <code>soup.find(class_='makan')</code></p>
<ul>
<li>id</li>
</ul>
<p>code html <code>&lt;div&gt;&lt;p id='sayur'&gt;aku makan sayur&lt;/p&gt;&lt;/div&gt;</code></p>
<p>maka, untuk mendapatkan tag p adalah : <code>soup.find(id='sayur')</code></p>
<p>Lalu, untuk mendapatkan textnya, digunakan <code>.getText()</code> pada objek BeautifulSoup.</p>
<p>Setelah kalian paham tentang bagaimana menggunakan library beautifulsoup, kita akan membahas bagaimana code di atas bekerja.</p>
<div class="codehilite"><pre><span></span><span class="n">items</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">findAll</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s1">&#39;article-item&#39;</span><span class="p">)</span>
</pre></div>

<p>Hal pertama yang kita lakukan adalah menentukan apa saja yang akan kita ambil. Pada kasus jurnal online ini, kita hanya akan mengambil judul, penulis, beserta abstraknya saja. Untuk itu, di sini kita mengambil semua paper, yang bisa kita lihat berada di class 'article-item'. </p>
<div class="codehilite"><pre><span></span>    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
        <span class="n">judul</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s1">&#39;title-article&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">getText</span><span class="p">()</span>
        <span class="n">authors</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;author-article&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">findAll</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s1">&#39;title-author&#39;</span><span class="p">)</span>
        <span class="n">author</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">authors</span><span class="p">:</span> <span class="n">author</span> <span class="o">=</span> <span class="n">author</span><span class="o">+</span><span class="n">i</span><span class="o">.</span><span class="n">getText</span><span class="p">()</span><span class="o">+</span><span class="s1">&#39;; &#39;</span>
        <span class="n">abstrack</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s1">&#39;article-abstract&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">getText</span><span class="p">()</span>
</pre></div>

<p>Kemudian, untuk setiap paper, kita ambil judul (dengan class 'title-article'), penulis (dengan class 'author-article'), dan abstrak (dengan class 'article-abstract', lantas dicari tag p).</p>
<div class="codehilite"><pre><span></span>        <span class="c1">#pengecekan data redundant</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;select * from jurnal2 where judul=?&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">judul</span><span class="p">,))</span>
        <span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cursor</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;INSERT INTO jurnal2 </span><span class="se">\</span>
<span class="s2">                        VALUES (?, ?, ?, ?)&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">judul</span><span class="p">,</span> <span class="n">author</span><span class="p">,</span> <span class="n">abstrack</span><span class="p">,</span> <span class="n">kategori</span><span class="p">));</span>
</pre></div>

<p>Kemudian, memasukkan ke dalam database. Sebelum itu, perlu dilakukan pengecekan apakah ada data yang sama. Karena hal itu bisa mengganggu hasil akhir nanti.</p>
<h2 id="text-extraction">Text-Extraction<a class="headerlink" href="#text-extraction" title="Permanent link">&para;</a></h2>
<p>Pada tahap ini, text yang diambil akan dilakukan ekstraksi teks. Terdapat beberapa tahapan, yaitu:</p>
<ul>
<li>Stopword Removal, </li>
</ul>
<p>yaitu menghilangkan kata-kata dan tanda baca yang tidak penting, seperti "dan", "atau", "di", dsb.</p>
<ul>
<li>Stemming</li>
</ul>
<p>yaitu  mengubah suatu  kata menjadi kata dasar, seperti kata "menggunakan" menjadi "guna", "memakan" menajadi "makan".</p>
<ul>
<li>Tokenisasi (n-gram)</li>
</ul>
<p>yaitu memecah kalimat per kata, seperti "aku makan sayur", menjadi "aku", "makan", "sayur". Dalam tokenisasi ini, terdapat variasi jumlah kata yang dipecah. Misal dipecah menjadi 2 suku kata, seperti "aku makan sayur bayam", menjadi "aku makan", "makan sayur", "sayur bayam". Hal tersebut lebih dikenal sebagai <strong>n-gram</strong></p>
<p>Ketiga tahapan di atas sudah saya pecah menjadi dua method berbeda seperti pada code di bawah. </p>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">preprosesing</span><span class="p">(</span><span class="n">txt</span><span class="p">):</span>
    <span class="n">SWfactory</span> <span class="o">=</span> <span class="n">StopWordRemoverFactory</span><span class="p">()</span>
    <span class="n">stopword</span> <span class="o">=</span> <span class="n">SWfactory</span><span class="o">.</span><span class="n">create_stop_word_remover</span><span class="p">()</span>

    <span class="n">Sfactory</span> <span class="o">=</span> <span class="n">StemmerFactory</span><span class="p">()</span>
    <span class="n">stemmer</span> <span class="o">=</span> <span class="n">Sfactory</span><span class="o">.</span><span class="n">create_stemmer</span><span class="p">()</span>
    <span class="n">hasil</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">txt</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">isalpha</span><span class="p">():</span>
            <span class="c1"># Menghilangkan Kata tidak penting</span>
            <span class="n">stop</span> <span class="o">=</span> <span class="n">stopword</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">stem</span> <span class="o">=</span> <span class="n">stemmer</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">stop</span><span class="p">)</span>
            <span class="n">hasil</span> <span class="o">+=</span> <span class="n">stem</span>  <span class="o">+</span> <span class="s1">&#39; &#39;</span>
    <span class="k">return</span> <span class="n">hasil</span>

<span class="c1">#VSM</span>
<span class="k">def</span> <span class="nf">tokenisasi</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">ngram</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">token</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">start</span><span class="o">=</span><span class="mi">0</span>
    <span class="n">end</span><span class="o">=</span><span class="n">ngram</span>
    <span class="n">txtSplit</span> <span class="o">=</span> <span class="n">txt</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">while</span> <span class="n">end</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">txtSplit</span><span class="p">):</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="n">txtSplit</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">]</span>
        <span class="n">frase</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> 
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tmp</span><span class="p">:</span>
            <span class="n">frase</span> <span class="o">+=</span> <span class="n">i</span><span class="o">+</span> <span class="s1">&#39; &#39;</span> 
        <span class="n">token</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frase</span><span class="p">)</span>
        <span class="n">end</span><span class="o">+=</span><span class="mi">1</span><span class="p">;</span> <span class="n">start</span> <span class="o">+=</span><span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">token</span>
</pre></div>

<p>Setelah ketiganya dilakukan, maka akan kita bisa membuat sebuah Vector Space Model, dengan menggunakan metode Bag of Words dan TF-IDF.</p>
<h3 id="metode-bag-of-words">Metode Bag of Words<a class="headerlink" href="#metode-bag-of-words" title="Permanent link">&para;</a></h3>
<p>Bag of Words merupakan salah satu metode untuk membuat sebuah Vector Space Model (VSM) dengan cara menghitung setiap kata pada setiap dokumen. Contohnya seperti ini</p>
<p>doc 1 : "Topi saya bundar"</p>
<p>doc 2 : "Bundar topi saya. Kalau tidak bundar, bukan topi saya"</p>
<p>Kita akan menghitung setiap kata tersebut. Maka didapat VSM sebagai berikut:</p>
<table>
<thead>
<tr>
<th>No Doc</th>
<th align="center">Topi</th>
<th>Saya</th>
<th>Bundar</th>
<th>Kalau</th>
<th align="center">Tidak</th>
<th>Bukan</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td align="center">1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td align="center">0</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td align="center">2</td>
<td>2</td>
<td>2</td>
<td>1</td>
<td align="center">1</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Code untuk melakukan perhitungan tersebut adalah sebagai berikut</p>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">countWord</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">ngram</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Fungsi ini digunakan untuk menghitung setiap kata pada satu string</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">tokenisasi</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">ngram</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span>  <span class="ow">in</span> <span class="n">token</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">txt</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">d</span>
<span class="k">def</span> <span class="nf">add_row_VSM</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Fungsi ini digunakan untuk membangun VSM</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1">#init baris baru</span>
    <span class="n">VSM</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
    <span class="c1"># memasukkan kata berdasarkan kata yang telah ditemukan sebelumnya</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">VSM</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">VSM</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="n">VSM</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>

    <span class="c1"># memasukkan kata baru </span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
        <span class="n">VSM</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>  <span class="c1">#fitur baru</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">VSM</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="c1">#VSM[j].insert(-2,0)</span>
            <span class="n">VSM</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">VSM</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
</pre></div>

<p>Method counWord digunakan untuk menghitung banyaknya kata pada dokumen. Sementara method add_row_VSM digunakan untuk membuat sebuah matrix VSM tersebut.</p>
<p>Proses pemanggilan fungsi-fungsi di atas dilakukan oleh code di bawah ini:</p>
<div class="codehilite"><pre><span></span><span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * from jurnal2&quot;</span><span class="p">)</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">[:</span><span class="mi">60</span><span class="p">]</span>
<span class="n">pertama</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">corpus</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="n">label</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="n">c</span><span class="o">=</span><span class="mi">1</span>
<span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;ngram : &quot;</span><span class="p">))</span>
<span class="c1">#n=1</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">cursor</span><span class="p">:</span>
    <span class="k">print</span> <span class="p">(</span><span class="s1">&#39;Proses : </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span><span class="p">((</span><span class="n">c</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">cursor</span><span class="p">))</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;%&#39;</span><span class="p">);</span> <span class="n">c</span><span class="o">+=</span><span class="mi">1</span>
    <span class="n">label</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">cleaned</span> <span class="o">=</span> <span class="n">preprosesing</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
    <span class="n">cleaned</span> <span class="o">=</span> <span class="n">cleaned</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">corpus</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cleaned</span><span class="p">)</span>

    <span class="n">d</span> <span class="o">=</span> <span class="n">countWord</span><span class="p">(</span><span class="n">cleaned</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">pertama</span><span class="p">:</span>
        <span class="n">pertama</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">VSM</span> <span class="o">=</span> <span class="nb">list</span><span class="p">((</span><span class="nb">list</span><span class="p">(),</span> <span class="nb">list</span><span class="p">()))</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
            <span class="n">VSM</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
            <span class="n">VSM</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">add_row_VSM</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>

<p>Lalu untuk menampilkan hasilnya (agar terlihat rapi) maka kita export ke csv. Serta kita pisahkan antara kata-kata dengan nilainya:</p>
<div class="codehilite"><pre><span></span><span class="n">write_csv</span><span class="p">(</span><span class="s2">&quot;bow_manual_</span><span class="si">%d</span><span class="s2">.csv&quot;</span><span class="o">%</span><span class="n">n</span><span class="p">,</span> <span class="n">VSM</span><span class="p">)</span>
<span class="n">feature_name</span> <span class="o">=</span> <span class="n">VSM</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">bow</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">VSM</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>

<h3 id="tf-idf">TF-IDF<a class="headerlink" href="#tf-idf" title="Permanent link">&para;</a></h3>
<p>Selain menggunakan Bag of Words, kita juga bisa menggunakan metode TF-IDF. Hal ini karena Bag of Word memiliki kelemahan tersendiri. </p>
<p>TF-IDF sendiri merupakan kepanjangan dari Term Frequence (frekuensi Kata) dan Invers Document Frequence (invers frekuensi Dokumen). Rumus TF-IDF sendiri terbilang mudah karena hanya TFxIDF.</p>
<p>Kita telah mencari TF sebelumnya (yaitu Bag of Words), karena konsep keduanya yang memang sama. Sekarang kita tinggal mencari nilai IDF.</p>
<p>Untuk mendapatkan IDF, pertama kita perlu mencari DF (frekuensi Dokumen). Misalnya:</p>
<p>doc1 : Topi Saya Bundar, bundar topi saya</p>
<p>doc2 : Matahari itu terlihat bundar</p>
<p>Maka, bisa kita ketahui:</p>
<table>
<thead>
<tr>
<th>Kata</th>
<th>Jumlah Dokumen yang memiliki kata tersebut (DF)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Topi</td>
<td>1</td>
</tr>
<tr>
<td>Saya</td>
<td>1</td>
</tr>
<tr>
<td>Bundar</td>
<td>2</td>
</tr>
<tr>
<td>Matahari</td>
<td>1</td>
</tr>
<tr>
<td>itu</td>
<td>1</td>
</tr>
<tr>
<td>terlihat</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Setelah itu, kita lakukan invers pada setiap kata:</p>
<p><img alt="rumus Shilhouette" src="../img/rumus_tfidf.PNG" /></p>
<p>Setelah ketemu, maka tinggal kita kalikan TFxIDF. Berikut code programnya:</p>
<p><img alt="rumus Shilhouette" src="../img/rumus_tfidf2.PNG" /></p>
<div class="codehilite"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="n">total_doc</span> <span class="o">=</span> <span class="n">bow</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">for</span> <span class="n">kolom</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bow</span><span class="p">[</span><span class="mi">0</span><span class="p">])):</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">baris</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bow</span><span class="p">)):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">bow</span><span class="p">[</span><span class="n">baris</span><span class="p">,</span> <span class="n">kolom</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">total</span> <span class="o">+=</span><span class="mi">1</span>
    <span class="n">df</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">total</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">idf</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="p">:</span>
    <span class="n">tmp</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">log10</span><span class="p">(</span><span class="n">total_doc</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">i</span><span class="p">))</span>
    <span class="n">idf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
<span class="n">idf</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">idf</span><span class="p">)</span>

<span class="n">tfidf</span> <span class="o">=</span> <span class="n">bow</span> <span class="o">*</span> <span class="n">idf</span>
</pre></div>

<h2 id="preprocessing">Preprocessing<a class="headerlink" href="#preprocessing" title="Permanent link">&para;</a></h2>
<p>Tahap <em>preprocessing</em> merupakan tahap mengolah data agar data lebih mudah diproses. Ada banyak jenis dari <em>preprocessing</em>. Namun, di kesempatan kali ini kita hanya akan membahas tentang seleksi fitur.</p>
<h3 id="seleksi-fitur">Seleksi Fitur<a class="headerlink" href="#seleksi-fitur" title="Permanent link">&para;</a></h3>
<p>Seleksi fitur merupakan salah satu cara untuk mengurangi dimensi fitur yang sangat banyak. Seperti pada kasus kita, Text Mining, jumlah fitur yang didapatkan bisa mencapai lebih dari 2000 kata yang berbeda. Namun, tidak semua kata tersebut benar-benar berpengaruh pada hasil akhir nantinya. </p>
<p>Selain itu, kita tahu bahwa semakin banyak data yang diproses, maka lebih banyak biaya dan waktu yang digunakan untuk memprosesnya. Oleh karena itu,  kita perlu melakukan pengurangan fitur tanpa mengurangi kualitas hasil akhir, misalnya dengan Seleksi Fitur.</p>
<p>Pada dasarnya, seleksi fitur memiliki 3 tipe umum:</p>
<ol>
<li>Wrap</li>
<li>Filter</li>
<li>Embed</li>
</ol>
<p>Selain itu, Seleksi Fitur juga memiliki banyak sekali metode-metode, seperti Information Gain, Chi Square, Pearson, dll.</p>
<h4 id="pearson-correlation">Pearson Correlation<a class="headerlink" href="#pearson-correlation" title="Permanent link">&para;</a></h4>
<p>Pendekatan Pearson merupakan pendekatan paling sederhana. Pada pendekatan ini, setiap fitur akan dihitung korelasinya. Semakin tinggi nilainya, maka fitur tersebut semakin kuat korelasinya. Lalu fitur yang memiliki korelasi tinggi akan dibuang salah satunya.</p>
<p><strong>Pendekatan ini digunakan untuk data tipe numerik</strong>.</p>
<p>Codenya sebagai berikut:</p>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">pearsonCalculate</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">):</span>
    <span class="s2">&quot;i, j is an index&quot;</span>
    <span class="n">atas</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">bawah_kiri</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">bawah_kanan</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)):</span>
        <span class="n">atas</span> <span class="o">+=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">u</span><span class="p">]</span> <span class="o">-</span> <span class="n">meanFitur</span><span class="p">[</span><span class="n">u</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">]</span> <span class="o">-</span> <span class="n">meanFitur</span><span class="p">[</span><span class="n">v</span><span class="p">])</span>
        <span class="n">bawah_kiri</span> <span class="o">+=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">u</span><span class="p">]</span> <span class="o">-</span> <span class="n">meanFitur</span><span class="p">[</span><span class="n">u</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span>
        <span class="n">bawah_kanan</span> <span class="o">+=</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">]</span> <span class="o">-</span> <span class="n">meanFitur</span><span class="p">[</span><span class="n">v</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span>
    <span class="n">bawah_kiri</span> <span class="o">=</span> <span class="n">bawah_kiri</span> <span class="o">**</span> <span class="mf">0.5</span>
    <span class="n">bawah_kanan</span> <span class="o">=</span> <span class="n">bawah_kanan</span> <span class="o">**</span> <span class="mf">0.5</span>
    <span class="k">return</span> <span class="n">atas</span><span class="o">/</span><span class="p">(</span><span class="n">bawah_kiri</span> <span class="o">*</span> <span class="n">bawah_kanan</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">meanF</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">meanFitur</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])):</span>
        <span class="n">meanFitur</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span><span class="n">i</span><span class="p">])</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">meanFitur</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">seleksiFiturPearson</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">threshold</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">meanFitur</span>
    <span class="n">meanFitur</span> <span class="o">=</span> <span class="n">meanF</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">u</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">while</span> <span class="n">u</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="n">dataBaru</span><span class="o">=</span><span class="n">data</span><span class="p">[:,</span> <span class="p">:</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">meanBaru</span><span class="o">=</span><span class="n">meanFitur</span><span class="p">[:</span><span class="n">u</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">u</span>
        <span class="k">while</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="k">if</span> <span class="n">u</span> <span class="o">!=</span> <span class="n">v</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">pearsonCalculate</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">threshold</span><span class="p">:</span>
                    <span class="n">dataBaru</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">dataBaru</span><span class="p">,</span> <span class="n">data</span><span class="p">[:,</span> <span class="n">v</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="mi">1</span><span class="p">)))</span>
                    <span class="n">meanBaru</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">meanBaru</span><span class="p">,</span> <span class="n">meanFitur</span><span class="p">[</span><span class="n">v</span><span class="p">]))</span>
            <span class="n">v</span><span class="o">+=</span><span class="mi">1</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">dataBaru</span>
        <span class="n">meanFitur</span><span class="o">=</span><span class="n">meanBaru</span>
        <span class="k">if</span> <span class="n">u</span><span class="o">%</span><span class="mi">50</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
        <span class="n">u</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="n">data</span>
</pre></div>

<h4 id="chi-square">Chi Square<a class="headerlink" href="#chi-square" title="Permanent link">&para;</a></h4>
<p>Sama seperti pendekatan pearson, hanya saja, pendekatan ini lebih digunakan untuk data tipe categorical.</p>
<h2 id="procesing">Procesing<a class="headerlink" href="#procesing" title="Permanent link">&para;</a></h2>
<p>Terdapat dua hal yang bisa kita lakukan pada sebuah data. </p>
<ol>
<li>Clustering (pengelompokan)</li>
<li>Klasifikasi (fokus pada hasil prediksi)</li>
</ol>
<h3 id="clustering">Clustering<a class="headerlink" href="#clustering" title="Permanent link">&para;</a></h3>
<p>Clustering merupakan pengelompokan data menjadi k-kelompok (dengan k merupakan banyak kelompok). Pengelompkan tersebut berdasarkan ciri yang mirip. Pada kasus ini, maka ciri yang mirip bisa diketahui dari kata yang menjadi ciri dari setiap dokumen.</p>
<p>Metode Clustering sendiri ada banyak. Salah duanya adalah K-Means Clustering dan Fuzzy C-Means Clustering.</p>
<p>Setelah dilakukan proses Clustering, perlu kita cari nilai Silhouette Coefficient untuk melihat apakah hasil cluster tersebut sudah bagus atau tidak.</p>
<h4 id="k-means">K-Means<a class="headerlink" href="#k-means" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="c1"># Clustering</span>
<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">tfidf_matrix</span><span class="o">.</span><span class="n">todense</span><span class="p">())</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">kmeans</span><span class="o">.</span><span class="n">labels_</span><span class="p">)):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Doc </span><span class="si">%d</span><span class="s2"> =&gt;&gt; cluster </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">labels_</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
</pre></div>

<p>Code di atas adalah code untuk melakukan clustering. Pada contoh ini cluster dibagi menjadi 5. Banyak cluster bisa diubah sesuai kebutuhan.</p>
<h4 id="fuzzy-c-means">Fuzzy C-Means<a class="headerlink" href="#fuzzy-c-means" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="n">cntr</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">u0</span><span class="p">,</span> <span class="n">distant</span><span class="p">,</span> <span class="n">fObj</span><span class="p">,</span> <span class="n">iterasi</span><span class="p">,</span> <span class="n">fpc</span> <span class="o">=</span> <span class="n">fuzz</span><span class="o">.</span><span class="n">cmeans</span><span class="p">(</span><span class="n">tfidf</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.00001</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">membership</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

<p>parameter dari fuzzy c-means berturut-turut : data, jumlahCluster, pembobot, erorMaksimal, serta IterasiMaksimal.</p>
<h4 id="shilhouette-coefisient">Shilhouette Coefisient<a class="headerlink" href="#shilhouette-coefisient" title="Permanent link">&para;</a></h4>
<p>Shilhouette Coefisient merupakan salah satu metode evaluasi yang digunakan untuk model Cluster, seperti K-Means atau Fuzzy C-Means. Metode ini berfungsi untuk menguji kualitas dari cluster yang dihasilkan.  Untuk menghitung nilai silhoutte coefisient diperlukan jarak antar dokumen dengan menggunakan rumus <em>EuclideanDistance</em>. Setelah itu tahapan untuk menghitung nilai silhoutte coeffisien adalah sebagai berikut :</p>
<ol>
<li>
<p>Untuk setiap objek i, hitung rata-rata jarak dari objek i dengan  seluruh objek yang berada dalam satu cluster. Akan didapatkan nilai  rata-rata yang disebut a*i*.</p>
</li>
<li>
<p>Untuk setiap objek i, hitung rata-rata jarak dari objek i dengan  objek yang berada di cluster lainnya. Dari semua jarak rata-rata  tersebut ambil nilai yang paling kecil. Nilai ini disebut b*i*.</p>
</li>
<li>
<p>Setelah itu maka untuk objek i memiliki nilai <em>silhoutte coefisien</em> :</p>
</li>
</ol>
<p><img alt="rumus Shilhouette" src="../img/rumus_shilhouette.PNG" /></p>
<p>Hasil perhitungan nilai silhoutte coeffisien dapat bervariasi antara -1 hingga 1. Hasil clustering dikatakan baik jikai nilai silhoutte coeffisien bernilai positif. Maka dapat dikatakan, jika s*i* = 1 berarti objek <em>i</em> sudah berada dalam cluster yang tepat. Jika nilai s*i* = 0 maka objek <em>i</em> berada di antara dua cluster sehingga objek tersebut tidak jelas harus dimasukan ke dalam cluster A atau cluster B. Akan tetapi, jika s*i* = -1 artinya struktur cluster yang dihasilkan overlapping, sehingga objek <em>i</em> lebih tepat dimasukan ke dalam cluster yang lain. </p>
<p>Nilai rata-rata silhoutte coeffisien dari tiap objek dalam suatu cluster adalah suatu ukuran yang menunjukan seberapa ketat data dikelompokan dalam cluster tersebut.</p>
<h1 id="evaluasi">Evaluasi<a class="headerlink" href="#evaluasi" title="Permanent link">&para;</a></h1>
<p>Data yang digunakan merupakan data dari <a href="https://garuda.ristekdikti.go.id">Jurnal Online</a> berupa paper dari 9 jurnal berbeda, dengan masing-masing jurnal didapat 10 paper. Total data yang digunakan sebanyak 90 judul dan abstrak. </p>
<p>Pada percobaan ini digunakan model Fuzzy C-Means, dengan percobaan cluster dilakukan berulang kali dengan mengubah nilai parameter, yaitu Threshold untuk Seleksi Fitur, Jumlah Cluster, serta banyak N-gram. Maka dihasilkan nilai Shilhouette Coeffisient sebagai Berikut:</p>
<h2 id="tanpa-dilakukan-preprocessing">Tanpa dilakukan preprocessing<a class="headerlink" href="#tanpa-dilakukan-preprocessing" title="Permanent link">&para;</a></h2>
<p>Pada percobaan ini, data tidak dilakukan Seleksi Fitur apapun. Data langsung dibuat model Cluster menggunakan Fuzzy C-Means. Percobaan dilakukan beberapa kali dengan mengubah jumlah Cluster, dengan rentang 2-5.</p>
<table>
<thead>
<tr>
<th>Jumlah Cluster</th>
<th>Shilhouette Coeffisien</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>0.325</td>
</tr>
<tr>
<td>3</td>
<td>0.325</td>
</tr>
<tr>
<td>4</td>
<td>0.325</td>
</tr>
<tr>
<td>5</td>
<td>0.325</td>
</tr>
</tbody>
</table>
<p>Dari hasil di atas, dapat disimpulkan, apabila tidak dilakukan tahap Seleksi Fitur, banyak cluster tidak berpengaruh pada hasil cluster tersebut. </p>
<h2 id="berdasarkan-jumlah-cluster">Berdasarkan Jumlah Cluster<a class="headerlink" href="#berdasarkan-jumlah-cluster" title="Permanent link">&para;</a></h2>
<p>Jumlah Cluster berpengaruh dalam menentukan sebanyak apa kelompok yang akan dibuat. Hal ini diharapkan kita bisa menentukan Jumlah Cluster yang paling tepat dalam menentukan model untuk kasus ini.</p>
<p>Pada percobaan ini, nilai Threshold pada seleksi Fitur <em>Pearson</em> sebesar 0.8. Percobaan dilakukan sebanyak 9 kali, dengan mengubah parameter <em>c</em> pada C-Means dengan rentang 2-5. Hasilnya sebagai berikut:</p>
<table>
<thead>
<tr>
<th>Jumlah Cluster</th>
<th>Shilhouette Coeffisient</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>0.199</td>
</tr>
<tr>
<td>3</td>
<td>0.057</td>
</tr>
<tr>
<td>4</td>
<td>0.093</td>
</tr>
<tr>
<td>5</td>
<td>0.050</td>
</tr>
</tbody>
</table>
<p>Dari sini bisa kita melihat bahwa <em>jumlah cluster 2</em> memiliki nilai coefisien tertinggi dengan nilai Shilhouette 0.199. Sebaliknya, cluster yang paling tidak tepat, apabila jumlah cluster sebanyak 5 dengan nilai shilhouette 0.050.</p>
<h2 id="berdasarkan-nilai-threshold">Berdasarkan nilai Threshold<a class="headerlink" href="#berdasarkan-nilai-threshold" title="Permanent link">&para;</a></h2>
<p>Nilai Threshold berfungsi untuk menentukan seberapa banyak fitur-fitur yang akan dihapus. Dengan dilakukan percobaan ini, diharapkan bisa menentukan nilai Threshold yang paling cocok. </p>
<p>Nilai Threshold yang digunakan merupakan {0.9, 0.85, 0.8, 0.75, 0.7}. Melihat Percobaan sebelumnya, Jumlah Cluster yang paling baik merupakan 2, maka, digunakan C=2. Hasilnya didapatkan :</p>
<table>
<thead>
<tr>
<th>Nilai Threshold</th>
<th>Shilhouette Coeffisient</th>
</tr>
</thead>
<tbody>
<tr>
<td>0.9</td>
<td>0.334</td>
</tr>
<tr>
<td>0.85</td>
<td>0.342</td>
</tr>
<tr>
<td>0.8</td>
<td>0.199</td>
</tr>
<tr>
<td>0.75</td>
<td>0.255</td>
</tr>
<tr>
<td>0.7</td>
<td>0.282</td>
</tr>
</tbody>
</table>
<p>Nilai Shilhouette paling tinggi didapat ketika nilai Threshold 0.85, yaitu 0.342. Selanjutnya, secara berturut-turut, 0.9, 0.7, 0.75, dan nilai terendah 0.8, yaitu 0.199.</p>
<h2 id="berdasarkan-n-gram">Berdasarkan N-Gram<a class="headerlink" href="#berdasarkan-n-gram" title="Permanent link">&para;</a></h2>
<p>N-Gram berfungsi untuk menentukan banyaknya kata per tokenisasi.  Hal ini diharapkan untuk mengetahui N-gram terbaik.</p>
<p>Pada percobaan ini, digunakan jumlah cluster sebanyak 2. Percobaan dilakukan sebanyak 3 kali dengan mengubah parameter "n" pada N-gram. Maka didapat:</p>
<table>
<thead>
<tr>
<th>n-gram</th>
<th>Shilhouette Coeffisient</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0.325</td>
</tr>
<tr>
<td>2</td>
<td>0.176</td>
</tr>
<tr>
<td>3</td>
<td>0.205</td>
</tr>
</tbody>
</table>
<p>Dari hasil di atas, didapat nilai shilhouette tertinggi dengan n-gram 1, yaitu 0.325. Sementara paling rendah adalah 0.176, apabila nilai n-gram adalah 2. </p>
<p>Selain itu, apabila dilakukan seleksi fitur, <code>ngram &gt; 1</code>  akan menghasilkan 1 cluster, tidak peduli berapapun jumlah cluster yg ditentukan.</p>
<h2 id="k-means_1">K-Means<a class="headerlink" href="#k-means_1" title="Permanent link">&para;</a></h2>
<p>Karena nilai Shilhouette yang relatif kecil, hasil dari Fuzzy C-Means akan dibandingkan dengan metode lain, yaitu K-Means, untuk melihat manakah yang lebih baik. </p>
<p>Parameter yang digunakan di antaranya, Jumlah Cluster = 2, Threshold = 0.85, dan N-Gram = 1. Maka, diperoleh hasil berikut:</p>
<table>
<thead>
<tr>
<th>Metode</th>
<th>Shilhouette Coefisient</th>
</tr>
</thead>
<tbody>
<tr>
<td>Fuzzy C-Means</td>
<td>0.342</td>
</tr>
<tr>
<td>K-Means</td>
<td>0.430</td>
</tr>
</tbody>
</table>
<h1 id="kesimpulan">Kesimpulan<a class="headerlink" href="#kesimpulan" title="Permanent link">&para;</a></h1>
<p>Dari hasil percobaan di atas, dapat disimpulkan bahwa metode yang terbaik adalah K-Means, dengan parameter, n-gram=1, jumlah cluster=2, dan nilai Treshold=0.85.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2016 - 2019 Martin Donath
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/ibara99" class="md-footer-social__link fa fa-github-alt"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.8c0d971c.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>